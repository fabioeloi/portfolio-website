document.addEventListener('DOMContentLoaded',function(){initMobileNavigation();initSmoothScrolling();initActiveNavigation();initProjectFiltering();initContactForm();initScrollAnimations();initDarkModeToggle();initAccessibility()});function initMobileNavigation(){const mobileMenuToggle=document.querySelector('.mobile-menu-toggle');const primaryNav=document.querySelector('.primary-nav');const navLinks=document.querySelectorAll('.nav-link');if(mobileMenuToggle){mobileMenuToggle.addEventListener('click',function(){this.classList.toggle('active');primaryNav.classList.toggle('active');const isExpanded=this.getAttribute('aria-expanded')==='true';this.setAttribute('aria-expanded',!isExpanded)})}navLinks.forEach(link=>{link.addEventListener('click',function(){if(mobileMenuToggle){mobileMenuToggle.classList.remove('active');mobileMenuToggle.setAttribute('aria-expanded','false')}primaryNav.classList.remove('active')})});document.addEventListener('click',function(event){const isClickInsideNav=primaryNav.contains(event.target);const isClickOnToggle=mobileMenuToggle&&mobileMenuToggle.contains(event.target);if(!isClickInsideNav&&!isClickOnToggle&&primaryNav.classList.contains('active')){if(mobileMenuToggle){mobileMenuToggle.classList.remove('active');mobileMenuToggle.setAttribute('aria-expanded','false')}primaryNav.classList.remove('active')}})}function initSmoothScrolling(){const navLinks=document.querySelectorAll('a[href^="#"]');navLinks.forEach(link=>{link.addEventListener('click',function(e){e.preventDefault();const targetId=this.getAttribute('href');if(targetId==='#')return;const targetElement=document.querySelector(targetId);if(targetElement){const headerHeight=document.querySelector('.header').offsetHeight;const targetPosition=targetElement.offsetTop-headerHeight;window.scrollTo({top:targetPosition,behavior:'smooth'});history.pushState(null,null,targetId)}})})}function initActiveNavigation(){const sections=document.querySelectorAll('section[id]');const navLinks=document.querySelectorAll('.nav-link');function updateActiveNav(){const scrollPosition=window.scrollY+100;sections.forEach(section=>{const sectionTop=section.offsetTop;const sectionHeight=section.offsetHeight;const sectionId=section.getAttribute('id');if(scrollPosition>=sectionTop&&scrollPosition<sectionTop+sectionHeight){navLinks.forEach(link=>{link.classList.remove('active');if(link.getAttribute('href')===`#${sectionId}`){link.classList.add('active')}})}})}window.addEventListener('scroll',updateActiveNav);updateActiveNav()}function initProjectFiltering(){const filterButtons=document.querySelectorAll('.filter-btn');const projectCards=document.querySelectorAll('.project-card[data-category]');filterButtons.forEach(button=>{button.addEventListener('click',function(){filterButtons.forEach(btn=>btn.classList.remove('active'));this.classList.add('active');const filterValue=this.getAttribute('data-filter');projectCards.forEach(card=>{if(filterValue==='all'||card.getAttribute('data-category')===filterValue){card.style.display='flex';setTimeout(()=>{card.style.opacity='1';card.style.transform='scale(1)'},10)}else{card.style.opacity='0';card.style.transform='scale(0.8)';setTimeout(()=>{card.style.display='none'},300)}})})});projectCards.forEach(card=>{card.style.transition='opacity 0.3s ease,transform 0.3s ease';card.style.opacity='1';card.style.transform='scale(1)'})}function initScrollAnimations(){const animatedElements=document.querySelectorAll('.section-title,.hero-content,.hero-image,.project-card,.skill-category,.interest-item,.tool-item,.soft-skill-item,.certification-card,.timeline-item,.education-item');animatedElements.forEach(element=>{element.style.opacity='0';element.style.transform='translateY(20px)';element.style.transition='opacity 0.6s ease,transform 0.6s ease'});function isElementInViewport(element){const rect=element.getBoundingClientRect();return(rect.top<=(window.innerHeight||document.documentElement.clientHeight)*0.8&&rect.bottom>=0)}function animateElements(){animatedElements.forEach(element=>{if(isElementInViewport(element)&&element.style.opacity==='0'){element.style.opacity='1';element.style.transform='translateY(0)'}})}window.addEventListener('scroll',animateElements);animateElements();const skillBars=document.querySelectorAll('.skill-progress');function animateSkillBars(){skillBars.forEach(bar=>{if(isElementInViewport(bar)&&!bar.classList.contains('animated')){const width=bar.style.width;bar.style.width='0';bar.classList.add('animated');setTimeout(()=>{bar.style.width=width},100)}})}window.addEventListener('scroll',animateSkillBars);animateSkillBars()}function initDarkModeToggle(){const header=document.querySelector('.header-content');const darkModeToggle=document.createElement('button');darkModeToggle.className='dark-mode-toggle';darkModeToggle.setAttribute('aria-label','Toggle dark mode');darkModeToggle.innerHTML='<i class="fas fa-moon"></i>';if(header){header.appendChild(darkModeToggle)}const isDarkMode=localStorage.getItem('darkMode')==='true';if(isDarkMode){document.body.classList.add('dark-mode');darkModeToggle.innerHTML='<i class="fas fa-sun"></i>'}darkModeToggle.addEventListener('click',function(){document.body.classList.toggle('dark-mode');if(document.body.classList.contains('dark-mode')){this.innerHTML='<i class="fas fa-sun"></i>';localStorage.setItem('darkMode','true')}else{this.innerHTML='<i class="fas fa-moon"></i>';localStorage.setItem('darkMode','false')}})}function initAccessibility(){const dropdownTriggers=document.querySelectorAll('.dropdown-trigger');dropdownTriggers.forEach(trigger=>{trigger.addEventListener('keydown',function(e){if(e.key==='Enter'||e.key===' '){e.preventDefault();this.click()}})});const modals=document.querySelectorAll('.modal');modals.forEach(modal=>{const focusableElements=modal.querySelectorAll('button,[href],input,select,textarea,[tabindex]:not([tabindex="-1"])');const firstFocusableElement=focusableElements[0];const lastFocusableElement=focusableElements[focusableElements.length-1];modal.addEventListener('keydown',function(e){if(e.key==='Tab'){if(e.shiftKey){if(document.activeElement===firstFocusableElement){e.preventDefault();lastFocusableElement.focus()}}else{if(document.activeElement===lastFocusableElement){e.preventDefault();firstFocusableElement.focus()}}}if(e.key==='Escape'){modal.classList.remove('active');const trigger=document.querySelector(`[aria-controls="${modal.id}"]`);if(trigger){trigger.focus()}}})});const skipLink=document.querySelector('.skip-link');if(skipLink){skipLink.addEventListener('click',function(e){e.preventDefault();const targetId=this.getAttribute('href');const targetElement=document.querySelector(targetId);if(targetElement){targetElement.setAttribute('tabindex','-1');targetElement.focus()}})}const accordions=document.querySelectorAll('.accordion');accordions.forEach(accordion=>{const headers=accordion.querySelectorAll('.accordion-header');headers.forEach(header=>{const button=header.querySelector('button');const content=header.nextElementSibling;if(button&&content){const accordionId=`accordion-${Math.random().toString(36).substr(2,9)}`;button.setAttribute('aria-expanded','false');button.setAttribute('aria-controls',accordionId);content.setAttribute('id',accordionId);content.setAttribute('role','region');content.setAttribute('aria-labelledby',button.id||`${accordionId}-header`);button.addEventListener('click',function(){const isExpanded=this.getAttribute('aria-expanded')==='true';this.setAttribute('aria-expanded',!isExpanded);if(isExpanded){content.style.display='none'}else{content.style.display='block'}})}})})}function initContactForm(){const contactForm=document.getElementById('contactForm');const submitBtn=document.getElementById('submitBtn');const formMessage=document.getElementById('formMessage');if(!contactForm)return;const nameField=document.getElementById('name');const emailField=document.getElementById('email');const subjectField=document.getElementById('subject');const messageField=document.getElementById('message');const nameError=document.getElementById('name-error');const emailError=document.getElementById('email-error');const subjectError=document.getElementById('subject-error');const messageError=document.getElementById('message-error');const validationRules={name:{required:true,minLength:2,pattern:/^[a-zA-Z\s]+$/,message:'Please enter a valid name(letters only,at least 2 characters)'},email:{required:true,pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:'Please enter a valid email address'},subject:{required:true,minLength:5,message:'Subject must be at least 5 characters long'},message:{required:true,minLength:10,message:'Message must be at least 10 characters long'}};function validateField(field,rules,errorElement){const value=field.value.trim();let isValid=true;let errorMessage='';if(rules.required&&!value){isValid=false;errorMessage='This field is required'}else if(rules.minLength&&value.length<rules.minLength){isValid=false;errorMessage=rules.message}else if(rules.pattern&&!rules.pattern.test(value)){isValid=false;errorMessage=rules.message}if(isValid){field.classList.remove('error');errorElement.textContent='';errorElement.classList.remove('visible')}else{field.classList.add('error');errorElement.textContent=errorMessage;errorElement.classList.add('visible')}return isValid}function validateForm(){const isNameValid=validateField(nameField,validationRules.name,nameError);const isEmailValid=validateField(emailField,validationRules.email,emailError);const isSubjectValid=validateField(subjectField,validationRules.subject,subjectError);const isMessageValid=validateField(messageField,validationRules.message,messageError);return isNameValid&&isEmailValid&&isSubjectValid&&isMessageValid}function showFormMessage(message,type){formMessage.textContent=message;formMessage.className='form-message '+type;formMessage.classList.add('visible');formMessage.scrollIntoView({behavior:'smooth',block:'nearest'})}function hideFormMessage(){formMessage.classList.remove('visible')}function simulateFormSubmission(formData){return new Promise((resolve,reject)=>{setTimeout(()=>{if(Math.random()<0.9){resolve({success:true,message:'Thank you for your message!I\'ll get back to you soon.'})}else{reject({success:false,message:'Something went wrong. Please try again later.'})}},1500)})}function resetForm(){contactForm.reset();nameField.classList.remove('error');emailField.classList.remove('error');subjectField.classList.remove('error');messageField.classList.remove('error');nameError.classList.remove('visible');emailError.classList.remove('visible');subjectError.classList.remove('visible');messageError.classList.remove('visible')}nameField.addEventListener('input',()=>{if(nameField.value.trim()){validateField(nameField,validationRules.name,nameError)}});emailField.addEventListener('input',()=>{if(emailField.value.trim()){validateField(emailField,validationRules.email,emailError)}});subjectField.addEventListener('input',()=>{if(subjectField.value.trim()){validateField(subjectField,validationRules.subject,subjectError)}});messageField.addEventListener('input',()=>{if(messageField.value.trim()){validateField(messageField,validationRules.message,messageError)}});[nameField,emailField,subjectField,messageField].forEach(field=>{field.addEventListener('blur',()=>{const rules=validationRules[field.id];const errorElement=document.getElementById(field.id+'-error');if(field.value.trim()){validateField(field,rules,errorElement)}})});contactForm.addEventListener('submit',async(e)=>{e.preventDefault();hideFormMessage();if(!validateForm()){showFormMessage('Please fix the errors above and try again.','error');return}submitBtn.classList.add('loading');submitBtn.disabled=true;try{const formData={name:nameField.value.trim(),email:emailField.value.trim(),subject:subjectField.value.trim(),message:messageField.value.trim()};const result=await simulateFormSubmission(formData);showFormMessage(result.message,'success');resetForm()}catch(error){showFormMessage(error.message,'error')}finally{submitBtn.classList.remove('loading');submitBtn.disabled=false}})}